unit TestBaseClass;

interface

uses
  TestFramework, BaseClass, System.SysUtils;

type
  TestTBuilder = class(TTestCase)
  published
    procedure TestSQL;
    procedure TestSQLWithTwoFields();
    procedure TestSQLWithTreeFields();
  end;

implementation


procedure TestTBuilder.TestSQL;
begin
  CheckEquals( 'insert into clientes ( id ) values ( 1 )' , TCommandSQL.Builder(

      TInsertSQL.Builder()
        .AddTable( 'clientes' )
        .AddField( 'id', 01 )

  ).SQL  );


end;

procedure TestTBuilder.TestSQLWithTreeFields;
begin
  CheckEquals( 'insert into clientes ( id, nm, dt ) values ( 1, ''Johni Douglas'', ''2011-01-01'' )' , TCommandSQL.Builder(

    TInsertSQL.Builder()
      .AddTable( 'clientes' )
      .AddField( 'id', 01 )
      .AddField( 'nm', 'Johni Douglas' )
      .AddField( 'dt', StrToDate( '01/01/2011' ) )

  ).SQL  );


end;

procedure TestTBuilder.TestSQLWithTwoFields;
begin
  CheckEquals( 'insert into clientes ( id, nm ) values ( 1, ''Johni Douglas'' )' , TCommandSQL.Builder(

    TInsertSQL.Builder()
      .AddTable( 'clientes' )
      .AddField( 'id', 01 )
      .AddField( 'nm', 'Johni Douglas' )

  ).SQL  );
end;

initialization

  RegisterTest(TestTBuilder.Suite);
end.

